/**
 * ----------------------------------------------------------------------------------
 * jQuery custom form input plugin
 * Version: 1.0
 * Author: Raúl Fernández, raul@tambaqui.es
 * Copyright (c) 2012 Raúl Fernández
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * -----------------------------------------------------------------------------------
 * Derived from customfileinput plugin by Scott Jehl, scott@filamentgroup.com
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * And customImput plugin by Maggie Wachs and Scott Jehl, http://www.filamentgroup.com
 * Dual licensed under the MIT (filamentgroup.com/examples/mit-license.txt) 
 * and GPL (filamentgroup.com/examples/gpl-license.txt) licenses.
 * -----------------------------------------------------------------------------------
 **/
(function(a){a.fn.customFormInput=function(b){var c={browseLbl:"Browse...",changeLbl:"Change...",noneLbl:"No file selected."};var d=a.extend(c,b);a(this).each(function(b){if(a(this).is("[type=file]")){var c=a(this).addClass("customfile-input").mouseover(function(){e.addClass("customfile-hover")}).mouseout(function(){e.removeClass("customfile-hover")}).focus(function(){e.addClass("customfile-focus");c.data("val",c.val())}).blur(function(){e.removeClass("customfile-focus");c.trigger("checkChange")}).bind("disable",function(){c.attr("disabled",true);e.addClass("customfile-disabled")}).bind("enable",function(){c.removeAttr("disabled");e.removeClass("customfile-disabled")}).bind("checkChange",function(){if(c.val()&&c.val()!=c.data("val")){c.trigger("change")}}).bind("change",function(){var b=a(this).val().split(/\\/).pop();g.text(b).addClass("customfile-feedback-populated");f.text(d.changeLbl)}).click(function(){c.data("val",c.val());setTimeout(function(){c.trigger("checkChange")},100)});var e=a('<div class="customfile"></div>');var f=a('<span class="customfile-button" aria-hidden="true">'+d.browseLbl+"</span>").appendTo(e);var g=a('<span class="customfile-feedback" aria-hidden="true">'+d.noneLbl+"</span>").appendTo(e);if(c.is("[disabled]"))c.trigger("disable");e.mousemove(function(a){c.css({left:a.pageX-e.offset().left-c.outerWidth()+20})}).insertAfter(c);c.appendTo(e)}if(a(this).is("[type=checkbox],[type=radio]")){var h=a(this);var i=a("label[for="+h.attr("id")+"]");i.prepend('<span class="custom_input"></span>');var j=h.is("[type=checkbox]")?"checkbox":"radio";a('<div class="custom-'+j+'"></div>').insertBefore(h).append(h,i);var k=a("input[name="+h.attr("name")+"]");i.hover(function(){a(this).addClass("hover");if(j=="checkbox"&&h.is(":checked")){a(this).addClass("checkedHover")}},function(){a(this).removeClass("hover checkedHover")});h.bind("updateState",function(){if(h.is(":checked")){if(h.is(":radio")){k.each(function(){a("label[for="+a(this).attr("id")+"]").removeClass("checked")})}i.addClass("checked")}else{i.removeClass("checked checkedHover checkedFocus")}}).trigger("updateState").click(function(){a(this).trigger("updateState")}).focus(function(){i.addClass("focus");if(j=="checkbox"&&h.is(":checked")){i.addClass("checkedFocus")}}).blur(function(){i.removeClass("focus checkedFocus")})}return a(this)})}})(jQuery)